var collectionApp=angular.module("collectionApp",["ui.router"]).config(["$stateProvider","$locationProvider","$urlRouterProvider",function(t,l,e){l.html5Mode(!1),l.hashPrefix("!"),e.otherwise("/"),e.when("/collection","/collection/list"),t.state("hello",{url:"/",templateUrl:"hello/_hello.html",controller:"helloCtrl"}).state("collection",{url:"/collection",templateUrl:"collection/_collection.html",controller:"collectionCtrl"}).state("collection.list",{url:"/list",templateUrl:"collection/list/_list.html"}).state("collection.tiles",{url:"/tiles",templateUrl:"collection/tiles/_tiles.html"}).state("collection.trello",{url:"/trello",templateUrl:"collection/trello/_trello.html"})}]).run(["$rootScope","$state","$document",function(t,l,e){t.$on("$stateChangeStart",function(t,l,o,n){"collection.trello"===n.name&&(console.log("woopie"),angular.element(e).find("body").css({"min-width":"0px"}))})}]);collectionApp.controller("collectionCtrl",["$scope","$http","$state",function(t,l,e){l.get("/api/collection").then(function(l){t.collection=l.data.collection,t.groupsList=l.data.groups}),t.states=[{state:"collection.list",label:"Список"},{state:"collection.tiles",label:"Плитки"},{state:"collection.trello",label:"Группа плиток"}],t.changeState=function(t){e.go(t.state)};var o=function(l){for(var e=t.states.length-1;e>=0;e--)if(t.states[e].state===l)return console.log(l),t.states[e];return!1};t.state=o(e.current.name)||t.states[0]}]),collectionApp.controller("helloCtrl",["$scope",function(){}]),collectionApp.directive("tilesHolder",["$document",function(){return{restrict:"A",link:function(){var t=angular.element(document).find("body"),l=t.css("min-width")?parseInt(t.css("min-width")):0;t.css("min-width",l+350+"px")}}}]),collectionApp.directive("tileHolder",["$document",function(){return{restrict:"A",link:function(){var t=angular.element(document).find("body"),l=parseInt(t.css("min-width"))?parseInt(t.css("min-width")):0;t.css("min-width",l+350+"px")}}}]);